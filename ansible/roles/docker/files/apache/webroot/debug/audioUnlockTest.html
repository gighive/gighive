<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Unlock Test</title>
</head>
<body>
    <button id="playAudio">Play Actual Sound</button>

    <script>
        // Create a new Audio object
        const soundEffect = new Audio();
        soundEffect.autoplay = true;

        // Base64-encoded silent MP3 file
        soundEffect.src = "data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTcuODMuMTAwAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV";

        // Unlock audio on first user interaction
        document.addEventListener("click", () => {
            soundEffect.play().then(() => {
                console.log("Audio playback unlocked!");
            }).catch(err => {
                console.error("Error unlocking audio:", err);
            });
        }, { once: true }); // Ensure this only triggers on the first click

        // Play an actual sound later when needed
        document.getElementById('playAudio').addEventListener('click', () => {
            soundEffect.src = '/audio/loops/20010314_1.mp3'; // Replace with your actual sound file path
            soundEffect.play().then(() => {
                console.log("Actual sound playing!");
            }).catch(err => {
                console.error("Error playing actual sound:", err);
            });
        });
    </script>
</body>
</html>